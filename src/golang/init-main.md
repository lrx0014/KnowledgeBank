# main() & init()

This page updated at: **2018/09/04**

> main() ,init()方法是go中默认的两个方法，两个保留的关键字

init（）方法 是在任何package中都可以出现，但是建议 每个package中只包含一个init()函数比较好，容易理解。

但是main() 方法只能用在package main 中。

Go程序会自动调用init()和main()，所以你不需要在任何地方调用这两个函数。每个
package中的init函数都是可选的，但package main就必须包含一个main函数。

程序的初始化和执行都起始于main包。如果main包还导入了其它的包，那么就会在编译时
将它们依次导入。有时一个包会被多个包同时导入，那么它只会被导入一次（例如很多包可
能都会用到fmt包，但它只会被导入一次，因为没有必要导入多次）。当一个包被导入时，
如果该包还导入了其它的包，那么会先将其它包导入进来，然后再对这些包中的包级常量
和变量进行初始化，接着执行init函数（如果有的话），依次类推。等所有被导入的包都加
载完毕了，就会开始对main包中的包级常量和变量进行初始化，然后执行main包中的
init函数（如果存在的话），最后执行main函数

![调用顺序](./../images/golang/init-main.jpg)